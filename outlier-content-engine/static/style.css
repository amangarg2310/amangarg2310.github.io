/* ── Outlier Content Engine — Dark Theme ── */
/* Design: slate-950 bg, cyan-400 accents, Inter font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    --bg: #020617;
    --surface: #0f172a;
    --card: #1e293b;
    --card-hover: #263548;
    --elevated: #334155;
    --border: #334155;
    --border-light: #1e293b;
    --border-hover: #475569;
    --text: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    --text-dim: #64748b;
    --accent: #22d3ee;
    --accent-hover: #06b6d4;
    --accent-glow: rgba(34,211,238,0.15);
    --accent-subtle: rgba(34,211,238,0.1);
    --success: #10b981;
    --success-subtle: rgba(16,185,129,0.15);
    --warning: #f59e0b;
    --warning-subtle: rgba(245,158,11,0.15);
    --danger: #ef4444;
    --danger-subtle: rgba(239,68,68,0.15);
    --purple: #a78bfa;
    --purple-subtle: rgba(167,139,250,0.15);
    --pink: #ec4899;
    --sidebar-width: 240px;
    --radius: 12px;
    --radius-sm: 8px;
    --radius-xs: 6px;
}

*{margin:0;padding:0;box-sizing:border-box;}

body {
    font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
    background:var(--bg);
    color:var(--text);
    line-height:1.6;
    -webkit-font-smoothing:antialiased;
}

::-webkit-scrollbar{width:8px;height:8px}
::-webkit-scrollbar-track{background:var(--surface)}
::-webkit-scrollbar-thumb{background:var(--elevated);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--border-hover)}

/* ── Sidebar ── */
.sidebar{position:fixed;top:0;left:0;width:var(--sidebar-width);height:100vh;background:var(--bg);border-right:1px solid var(--border);display:flex;flex-direction:column;z-index:100}
.sidebar-brand{display:flex;align-items:center;gap:12px;padding:24px 20px;border-bottom:1px solid var(--border)}
.sidebar-brand h1{font-size:16px;font-weight:700;background:linear-gradient(135deg,#fff,var(--text-muted));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.sidebar-brand .brand-sub{font-size:10px;color:var(--text-dim);margin-top:4px;letter-spacing:1.5px;text-transform:uppercase}
.sidebar-nav{flex:1;padding:16px 0;overflow-y:auto}
.sidebar-nav a{display:flex;align-items:center;gap:12px;padding:10px 20px;color:var(--text-muted);text-decoration:none;font-size:13px;font-weight:400;transition:all .2s;border-left:3px solid transparent}
.sidebar-nav a:hover{color:var(--text);background:var(--border-light)}
.sidebar-nav a.active{color:var(--accent);background:var(--accent-subtle);border-left-color:var(--accent);font-weight:500}
.sidebar-nav a .nav-icon{width:20px;display:flex;align-items:center;justify-content:center;flex-shrink:0;opacity:.7}
.sidebar-nav a.active .nav-icon{opacity:1}
.sidebar-nav .nav-section{font-size:10px;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-dim);padding:24px 20px 8px;font-weight:600}
.sidebar-footer{padding:16px 20px;border-top:1px solid var(--border)}
.sidebar-footer .text-xs{color:var(--text-dim);font-size:10px;text-transform:uppercase;letter-spacing:1px;font-weight:600}
.profile-switcher{width:100%;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:var(--radius-xs);padding:8px 10px;font-size:13px;font-family:inherit;cursor:pointer;appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2394a3b8' d='M6 8L1 3h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;padding-right:28px;transition:border-color .2s}
.profile-switcher:hover{border-color:var(--border-hover)}
.profile-switcher:focus{border-color:var(--accent);outline:none}
.profile-switcher option{background:var(--surface);color:var(--text)}

/* ── Main Content ── */
.main{margin-left:var(--sidebar-width);min-height:100vh}
.page-header{background:var(--surface);border-bottom:1px solid var(--border);padding:24px 32px}
.page-header h2{font-size:20px;font-weight:600;color:var(--text)}
.page-header p{font-size:13px;color:var(--text-muted);margin-top:4px}
.page-content{padding:24px 32px;max-width:1200px}

/* ── Cards ── */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:20px;transition:border-color .2s}
.card:hover{border-color:var(--border-hover)}
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.card-title{font-size:15px;font-weight:600;color:var(--text)}
.card-subtitle{font-size:12px;color:var(--text-muted);margin-top:2px}

/* ── Stats Grid ── */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:24px}
.stat-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;text-align:center;transition:all .2s}
.stat-card:hover{border-color:var(--border-hover);transform:translateY(-1px)}
.stat-value{font-size:32px;font-weight:700;color:var(--text);line-height:1}
.stat-value.accent{color:var(--accent)}
.stat-value.success{color:var(--success)}
.stat-value.warning{color:var(--warning)}
.stat-label{font-size:11px;color:var(--text-dim);margin-top:8px;text-transform:uppercase;letter-spacing:.5px;font-weight:500}

/* ── Buttons ── */
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border-radius:var(--radius-sm);font-size:13px;font-weight:500;cursor:pointer;border:none;transition:all .2s;text-decoration:none;line-height:1.4;font-family:inherit}
.btn-primary{background:var(--accent);color:var(--bg)}
.btn-primary:hover{background:var(--accent-hover);box-shadow:0 0 20px var(--accent-glow)}
.btn-secondary{background:var(--elevated);color:var(--text);border:1px solid var(--border)}
.btn-secondary:hover{background:var(--border-hover)}
.btn-outline{background:transparent;color:var(--text-secondary);border:1px solid var(--border)}
.btn-outline:hover{background:var(--card);border-color:var(--border-hover);color:var(--text)}
.btn-danger{background:transparent;color:var(--danger);border:1px solid var(--danger)}
.btn-danger:hover{background:var(--danger-subtle)}
.btn-sm{padding:6px 14px;font-size:12px}

/* ── Filter Bar ── */
.filter-bar{display:flex;flex-wrap:wrap;gap:16px;align-items:center;justify-content:space-between;margin-bottom:24px;background:var(--surface);padding:10px 12px;border-radius:var(--radius);border:1px solid var(--border)}
.filter-group{display:flex;align-items:center;gap:8px}
.filter-label{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-dim);padding:0 8px}
.filter-pills{display:flex;background:var(--bg);border-radius:var(--radius-sm);padding:3px;border:1px solid var(--border);overflow-x:auto}
.filter-pill{padding:6px 14px;border-radius:var(--radius-xs);font-size:12px;font-weight:500;cursor:pointer;border:1px solid transparent;background:transparent;color:var(--text-muted);transition:all .2s;white-space:nowrap;font-family:inherit;text-decoration:none}
.filter-pill:hover{color:var(--text);background:var(--surface)}
.filter-pill.active{background:var(--card);color:var(--accent);border-color:var(--border);box-shadow:0 1px 3px rgba(0,0,0,.2)}

/* ── Forms ── */
.form-group{margin-bottom:20px}
.form-label{display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:6px}
.form-hint{font-size:11px;color:var(--text-dim);margin-top:4px}
.form-input,.form-textarea,.form-select{width:100%;padding:10px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:14px;color:var(--text);background:var(--surface);transition:all .2s;font-family:inherit}
.form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.form-input::placeholder,.form-textarea::placeholder{color:var(--text-dim)}
.form-select option{background:var(--surface);color:var(--text)}
.form-textarea{min-height:100px;resize:vertical}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.form-actions{display:flex;gap:12px;margin-top:24px;padding-top:20px;border-top:1px solid var(--border)}

/* ── Tables ── */
.table-wrap{overflow-x:auto}
table{width:100%;border-collapse:collapse}
th{text-align:left;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-dim);padding:12px 16px;border-bottom:1px solid var(--border);background:var(--surface)}
td{padding:14px 16px;border-bottom:1px solid var(--border-light);font-size:13px;color:var(--text-secondary)}
tr:hover{background:var(--surface)}

/* ── Tags / Badges ── */
.badge{display:inline-block;padding:3px 10px;border-radius:20px;font-size:11px;font-weight:500}
.badge-primary{background:var(--accent-subtle);color:var(--accent);border:1px solid rgba(34,211,238,.2)}
.badge-success{background:var(--success-subtle);color:var(--success);border:1px solid rgba(16,185,129,.2)}
.badge-warning{background:var(--warning-subtle);color:var(--warning);border:1px solid rgba(245,158,11,.2)}
.badge-danger{background:var(--danger-subtle);color:var(--danger);border:1px solid rgba(239,68,68,.2)}
.badge-neutral{background:var(--elevated);color:var(--text-muted);border:1px solid var(--border)}
.badge-purple{background:var(--purple-subtle);color:var(--purple);border:1px solid rgba(167,139,250,.2)}
.tag-list{display:flex;flex-wrap:wrap;gap:6px}
.tag{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;background:var(--elevated);border-radius:20px;font-size:12px;color:var(--text-secondary);border:1px solid var(--border)}
.tag .tag-remove{cursor:pointer;color:var(--text-dim);font-size:16px;line-height:1}
.tag .tag-remove:hover{color:var(--danger)}

/* ── Competitor Cards ── */
.competitor-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
.competitor-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;transition:all .2s}
.competitor-card:hover{border-color:var(--border-hover);transform:translateY(-1px)}
.competitor-name{font-size:15px;font-weight:600;color:var(--text)}
.competitor-platforms{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
.platform-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;background:var(--card);border:1px solid var(--border);border-radius:var(--radius-xs);font-size:12px;color:var(--text-muted)}
.competitor-actions{display:flex;gap:8px;margin-top:16px;padding-top:12px;border-top:1px solid var(--border)}

/* ══ OUTLIER GRID CARDS ══ */
.outlier-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}

.outlier-card{
    background:var(--card);border:1px solid rgba(51,65,85,.5);border-radius:var(--radius);
    overflow:hidden;transition:all .3s;display:flex;flex-direction:column;
    animation:fadeSlideUp .35s ease-out both;
}
.outlier-card:hover{border-color:rgba(34,211,238,.4);box-shadow:0 4px 24px rgba(34,211,238,.08);transform:translateY(-2px)}

/* Gradient header */
.outlier-card-header{height:110px;position:relative;padding:14px 16px;display:flex;justify-content:space-between;align-items:flex-start}
.outlier-card-header::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,.18);transition:background .3s}
.outlier-card:hover .outlier-card-header::after{background:rgba(0,0,0,.08)}
.grad-1{background:linear-gradient(135deg,#ec4899,#f43f5e)}
.grad-2{background:linear-gradient(135deg,#8b5cf6,#6366f1)}
.grad-3{background:linear-gradient(135deg,#22d3ee,#3b82f6)}
.grad-4{background:linear-gradient(135deg,#10b981,#14b8a6)}
.grad-5{background:linear-gradient(135deg,#f97316,#eab308)}

.handle-pill{display:inline-flex;align-items:center;gap:6px;background:rgba(15,23,42,.8);backdrop-filter:blur(8px);padding:4px 10px;border-radius:20px;font-size:12px;font-weight:500;color:#fff;position:relative;z-index:1}
.handle-pill .p-icon{font-size:11px}
.franchise-tag{background:rgba(34,211,238,.9);backdrop-filter:blur(8px);color:var(--bg);font-size:10px;font-weight:700;padding:3px 10px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px;position:relative;z-index:1}

/* Card body */
.outlier-card-body{padding:16px;flex:1;display:flex;flex-direction:column}
.outlier-body-top{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:10px}
.outlier-caption{font-size:13px;color:var(--text-secondary);line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;flex:1}

/* Engagement Score Ring */
.eng-score{flex-shrink:0;width:48px;height:48px;position:relative;display:flex;align-items:center;justify-content:center}
.eng-score svg{transform:rotate(-90deg);width:100%;height:100%}
.eng-score .bg-ring{fill:transparent;stroke:var(--elevated);stroke-width:3.5}
.eng-score .fg-ring{fill:transparent;stroke-width:3.5;stroke-linecap:round;animation:scoreRing 1s ease-out both}
.ring-cyan{stroke:var(--accent)}
.ring-green{stroke:var(--success)}
.ring-yellow{stroke:var(--warning)}
.ring-muted{stroke:var(--text-dim)}
.eng-score .score-num{position:absolute;font-size:12px;font-weight:700;color:var(--text)}

/* Audio tag */
.audio-tag{display:flex;align-items:center;gap:6px;font-size:11px;color:var(--text-muted);padding:6px 10px;background:var(--surface);border-radius:var(--radius-xs);border:1px solid var(--border);margin-bottom:12px}
.audio-tag .a-icon{color:var(--purple)}

/* Metrics row */
.metrics-row{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:auto;padding-top:14px;border-top:1px solid var(--border)}
.m-cell{display:flex;flex-direction:column;align-items:center;padding:8px 4px;background:var(--surface);border-radius:var(--radius-xs);border:1px solid var(--border)}
.m-cell .m-icon{font-size:14px;margin-bottom:3px;color:var(--accent)}
.m-cell.m-dim .m-icon{color:var(--text-dim)}
.m-cell .m-val{font-size:13px;font-weight:700;color:var(--text)}
.m-cell .m-lbl{font-size:9px;color:var(--text-dim);text-transform:uppercase;letter-spacing:.5px;margin-top:1px}

/* Card footer */
.outlier-card-ft{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;border-top:1px solid var(--border);background:var(--surface)}
.sec-metrics{display:flex;gap:12px;font-size:11px;color:var(--text-dim)}
.sec-metrics span{display:flex;align-items:center;gap:3px}
.view-link{font-size:12px;color:var(--accent);text-decoration:none;font-weight:500;display:flex;align-items:center;gap:4px;transition:color .2s}
.view-link:hover{color:var(--accent-hover)}

/* Driver badges */
.drv{display:inline-block;font-size:10px;font-weight:600;padding:2px 8px;border-radius:12px;text-transform:capitalize;letter-spacing:.3px}
.drv-saves{background:var(--success-subtle);color:var(--success)}
.drv-shares{background:rgba(236,72,153,.15);color:var(--pink)}
.drv-comments{background:var(--warning-subtle);color:var(--warning)}
.drv-views,.drv-likes{background:var(--elevated);color:var(--text-muted)}

/* Old outlier list compat */
.outlier-rank{position:absolute;top:12px;right:12px;background:var(--accent);color:var(--bg);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;z-index:2}
.outlier-metric{display:inline-block;margin-right:20px;margin-top:12px}
.outlier-metric-value{font-size:18px;font-weight:700;color:var(--text)}
.outlier-metric-label{font-size:10px;color:var(--text-dim);text-transform:uppercase}
.multiplier-badge{display:inline-block;background:var(--accent);color:var(--bg);padding:2px 10px;border-radius:4px;font-size:12px;font-weight:600}
.outlier-media{flex-shrink:0;width:200px;height:200px;border-radius:var(--radius-sm);overflow:hidden;position:relative;background:var(--elevated)}
.outlier-media img{width:100%;height:100%;object-fit:cover;display:block}
.outlier-media.media-broken{display:flex;align-items:center;justify-content:center;color:var(--text-dim);font-size:12px}
.outlier-media.media-broken img{display:none}
.outlier-media.media-broken::after{content:"Image unavailable"}
.media-type-overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.55);color:#fff;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;pointer-events:none}
.outlier-content{flex:1;min-width:0}

/* ── Alerts ── */
.alert{padding:14px 18px;border-radius:var(--radius-sm);font-size:13px;margin-bottom:20px;display:flex;align-items:center;gap:10px;border:1px solid}
.alert-success{background:var(--success-subtle);color:var(--success);border-color:rgba(16,185,129,.3)}
.alert-warning{background:var(--warning-subtle);color:var(--warning);border-color:rgba(245,158,11,.3)}
.alert-danger{background:var(--danger-subtle);color:var(--danger);border-color:rgba(239,68,68,.3)}
.alert-info{background:var(--accent-subtle);color:var(--accent);border-color:rgba(34,211,238,.3)}

/* ── Reports ── */
.report-frame{width:100%;min-height:600px;border:1px solid var(--border);border-radius:var(--radius);background:#fff}
.report-list-item{display:flex;align-items:center;justify-content:space-between;padding:14px 0;border-bottom:1px solid var(--border);transition:all .1s}
.report-list-item:hover{background:var(--surface);padding:14px 12px;border-radius:var(--radius-sm)}
.report-list-item:last-child{border-bottom:none}

/* ── Empty States ── */
.empty-state{text-align:center;padding:48px 24px;color:var(--text-muted)}
.empty-state-icon{font-size:48px;margin-bottom:16px;opacity:.25}
.empty-state h3{font-size:16px;color:var(--text);margin-bottom:8px;font-weight:600}
.empty-state p{font-size:13px;max-width:400px;margin:0 auto 20px;color:var(--text-muted)}

/* ── Voice Profile ── */
.voice-stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-top:16px}
.voice-stat{padding:12px;background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border)}
.voice-stat-label{font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--text-dim);margin-bottom:6px;font-weight:600}
.voice-stat-value{font-size:13px;color:var(--text);font-weight:500}

.own-post-item{padding:14px;border-bottom:1px solid var(--border);transition:background .15s}
.own-post-item:hover{background:var(--surface)}
.own-post-item:last-child{border-bottom:none}

/* ── Insight Blocks ── */
.insight-block{padding:14px;border-radius:var(--radius-sm);border:1px solid;margin-bottom:12px;display:flex;flex-direction:column;gap:8px}
.insight-pattern{background:var(--accent-subtle);border-color:rgba(34,211,238,.2)}
.insight-audio{background:var(--purple-subtle);border-color:rgba(167,139,250,.2)}
.insight-franchise{background:var(--success-subtle);border-color:rgba(16,185,129,.2)}
.insight-recommendation{background:var(--warning-subtle);border-color:rgba(245,158,11,.2)}
.insight-header{display:flex;align-items:center;justify-content:space-between}
.insight-type{display:flex;align-items:center;gap:8px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted)}
.insight-icon{width:28px;height:28px;border-radius:var(--radius-xs);background:var(--card);display:flex;align-items:center;justify-content:center;font-size:14px}
.insight-metric{font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;background:var(--card);color:var(--text);border:1px solid var(--border)}
.insight-title{font-size:13px;font-weight:600;color:var(--text)}
.insight-desc{font-size:12px;color:var(--text-muted);line-height:1.5}

/* ── Modal ── */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(2,6,23,.8);backdrop-filter:blur(4px);z-index:200;align-items:center;justify-content:center}
.modal-overlay.active{display:flex}
.modal{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:28px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,.5)}
.modal h3{font-size:18px;font-weight:600;margin-bottom:20px;color:var(--text)}

/* ── Utilities ── */
.flex{display:flex}
.flex-between{display:flex;justify-content:space-between;align-items:center}
.flex-center{display:flex;align-items:center}
.gap-8{gap:8px}
.gap-12{gap:12px}
.gap-16{gap:16px}
.mt-8{margin-top:8px}
.mt-16{margin-top:16px}
.mt-24{margin-top:24px}
.mb-16{margin-bottom:16px}
.mb-24{margin-bottom:24px}
.text-muted{color:var(--text-muted)}
.text-sm{font-size:13px}
.text-xs{font-size:12px}
.fw-600{font-weight:600}

/* ── Animations ── */
@keyframes fadeSlideUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes scoreRing{from{stroke-dashoffset:251.2}}

/* ── Mobile Navigation ── */
.mobile-topbar{display:none;position:fixed;top:0;left:0;right:0;height:52px;background:var(--bg);border-bottom:1px solid var(--border);z-index:90;align-items:center;padding:0 16px;gap:12px}
.mobile-menu-btn{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:6px}
.mobile-menu-btn:hover{color:var(--text)}
.mobile-brand{font-size:14px;font-weight:600;color:var(--text)}
.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(2,6,23,.6);z-index:95}

/* ── Sidebar Brand Icon ── */
.brand-icon{flex-shrink:0;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--accent-subtle);border-radius:var(--radius-sm);border:1px solid rgba(34,211,238,.15)}
.profile-label{display:block;font-size:10px;color:var(--text-dim);text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-bottom:6px}

/* ── Stat Icon ── */
.stat-icon{margin-bottom:12px}

/* ── Outlier Card Header Layout ── */
.header-top{display:flex;justify-content:space-between;align-items:flex-start;position:relative;z-index:1;width:100%}
.header-meta{position:absolute;bottom:12px;left:16px;right:16px;display:flex;justify-content:space-between;align-items:center;z-index:1}
.competitor-label{font-size:12px;font-weight:600;color:rgba(255,255,255,.9)}
.post-date{font-size:11px;color:rgba(255,255,255,.6)}

/* ── Caption + Score Layout ── */
.caption-score-row{display:flex;gap:12px;align-items:flex-start;margin-bottom:10px}
.caption-area{flex:1;min-width:0}
.card-caption{font-size:13px;color:var(--text-secondary);line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.eng-score .score-val{position:absolute;font-size:12px;font-weight:700;color:var(--text)}

/* ── Voice Summary ── */
.voice-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:20px;border-left:3px solid var(--success)}
.voice-summary{font-size:14px;color:var(--text-secondary);line-height:1.7;padding:14px;background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border);margin-bottom:16px}
.own-post-caption{font-size:13px;color:var(--text-secondary);font-style:italic;line-height:1.5;margin-top:8px}

/* ── Input with Prefix ── */
.input-with-prefix{position:relative}
.input-prefix{position:absolute;left:12px;top:11px;color:var(--text-muted);font-size:14px;z-index:1}

/* ── Range Inputs ── */
input[type="range"]{-webkit-appearance:none;appearance:none;height:6px;background:var(--elevated);border-radius:3px;outline:none}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);cursor:pointer;border:2px solid var(--bg);box-shadow:0 0 8px var(--accent-glow)}
input[type="range"]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent);cursor:pointer;border:2px solid var(--bg)}

/* ── Responsive ── */
@media(max-width:768px){
    .mobile-topbar{display:flex}
    .sidebar-overlay{display:block;opacity:0;pointer-events:none;transition:opacity .3s}
    .sidebar{transform:translateX(-100%);transition:transform .3s}
    .sidebar.open{transform:translateX(0)}
    .sidebar.open~.sidebar-overlay{opacity:1;pointer-events:auto}
    .sidebar{display:flex}
    .main{margin-left:0;margin-top:52px}
    .page-content{padding:16px}
    .page-header{padding:20px 16px}
    .form-row{grid-template-columns:1fr}
    .stats-grid{grid-template-columns:repeat(2,1fr)}
    .competitor-grid{grid-template-columns:1fr}
    .outlier-grid{grid-template-columns:1fr}
    .filter-bar{flex-direction:column;align-items:stretch}
    .voice-stat-grid{grid-template-columns:repeat(2,1fr)}
    .outlier-media{width:100%;height:240px}
}
@media(max-width:480px){
    .stats-grid{grid-template-columns:1fr}
    .metrics-row{gap:4px}
}
